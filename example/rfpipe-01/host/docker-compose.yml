#
# Docker Compose Configuration
# Generated by letce2-plugin-docker
#


services:
  node-1:
    image: emane-bundle
    container_name: letce2-node-1
    hostname: node-1
    init: true
    cap_add:
      - NET_ADMIN
      - SYS_NICE
    volumes:
      - /home/jzn/dev/letce2-base/letce2-plugin-docker/example/rfpipe-01/host:/experiment/host:ro
      - /home/jzn/dev/letce2-base/letce2-plugin-docker/example/rfpipe-01/node-1:/experiment/node-1:ro
      - /home/jzn/dev/letce2-base/letce2-plugin-docker/example/rfpipe-01/persist/node-1:/experiment/persist/node-1:rw
      - /home/jzn/dev/letce2-base/letce2-plugin-docker/example/rfpipe-01/../antenna-patterns:/experiment/antenna-patterns:ro
    command: ["sleep", "infinity"]
    networks:
      default: {}
      ota1:
        ipv4_address: 10.100.0.1

  
  node-1-biz:
    image: biz-node
    container_name: letce2-node-1-biz
    depends_on:
      - node-1
    init: true
    cap_add:
      - NET_ADMIN
      - SYS_NICE
    volumes:
      - /home/jzn/dev/letce2-base/letce2-plugin-docker/example/rfpipe-01/host:/experiment/host:ro
      - /home/jzn/dev/letce2-base/letce2-plugin-docker/example/rfpipe-01/node-1:/experiment/node-1:ro
      - /home/jzn/dev/letce2-base/letce2-plugin-docker/example/rfpipe-01/persist/node-1:/experiment/persist/node-1:rw
    command: ["sleep", "infinity"]
    network_mode: "service:node-1"

  node-2:
    image: emane-bundle
    container_name: letce2-node-2
    hostname: node-2
    init: true
    cap_add:
      - NET_ADMIN
      - SYS_NICE
    volumes:
      - /home/jzn/dev/letce2-base/letce2-plugin-docker/example/rfpipe-01/host:/experiment/host:ro
      - /home/jzn/dev/letce2-base/letce2-plugin-docker/example/rfpipe-01/node-2:/experiment/node-2:ro
      - /home/jzn/dev/letce2-base/letce2-plugin-docker/example/rfpipe-01/persist/node-2:/experiment/persist/node-2:rw
      - /home/jzn/dev/letce2-base/letce2-plugin-docker/example/rfpipe-01/../antenna-patterns:/experiment/antenna-patterns:ro
    command: ["sleep", "infinity"]
    networks:
      default: {}
      ota1:
        ipv4_address: 10.100.0.2

  
  node-2-biz:
    image: biz-node
    container_name: letce2-node-2-biz
    depends_on:
      - node-2
    init: true
    cap_add:
      - NET_ADMIN
      - SYS_NICE
    volumes:
      - /home/jzn/dev/letce2-base/letce2-plugin-docker/example/rfpipe-01/host:/experiment/host:ro
      - /home/jzn/dev/letce2-base/letce2-plugin-docker/example/rfpipe-01/node-2:/experiment/node-2:ro
      - /home/jzn/dev/letce2-base/letce2-plugin-docker/example/rfpipe-01/persist/node-2:/experiment/persist/node-2:rw
    command: ["sleep", "infinity"]
    network_mode: "service:node-2"

  node-3:
    image: emane-bundle
    container_name: letce2-node-3
    hostname: node-3
    init: true
    cap_add:
      - NET_ADMIN
      - SYS_NICE
    volumes:
      - /home/jzn/dev/letce2-base/letce2-plugin-docker/example/rfpipe-01/host:/experiment/host:ro
      - /home/jzn/dev/letce2-base/letce2-plugin-docker/example/rfpipe-01/node-3:/experiment/node-3:ro
      - /home/jzn/dev/letce2-base/letce2-plugin-docker/example/rfpipe-01/persist/node-3:/experiment/persist/node-3:rw
      - /home/jzn/dev/letce2-base/letce2-plugin-docker/example/rfpipe-01/../antenna-patterns:/experiment/antenna-patterns:ro
    command: ["sleep", "infinity"]
    networks:
      default: {}
      ota1:
        ipv4_address: 10.100.0.3

  
  node-3-biz:
    image: biz-node
    container_name: letce2-node-3-biz
    depends_on:
      - node-3
    init: true
    cap_add:
      - NET_ADMIN
      - SYS_NICE
    volumes:
      - /home/jzn/dev/letce2-base/letce2-plugin-docker/example/rfpipe-01/host:/experiment/host:ro
      - /home/jzn/dev/letce2-base/letce2-plugin-docker/example/rfpipe-01/node-3:/experiment/node-3:ro
      - /home/jzn/dev/letce2-base/letce2-plugin-docker/example/rfpipe-01/persist/node-3:/experiment/persist/node-3:rw
    command: ["sleep", "infinity"]
    network_mode: "service:node-3"

  node-4:
    image: emane-bundle
    container_name: letce2-node-4
    hostname: node-4
    init: true
    cap_add:
      - NET_ADMIN
      - SYS_NICE
    volumes:
      - /home/jzn/dev/letce2-base/letce2-plugin-docker/example/rfpipe-01/host:/experiment/host:ro
      - /home/jzn/dev/letce2-base/letce2-plugin-docker/example/rfpipe-01/node-4:/experiment/node-4:ro
      - /home/jzn/dev/letce2-base/letce2-plugin-docker/example/rfpipe-01/persist/node-4:/experiment/persist/node-4:rw
      - /home/jzn/dev/letce2-base/letce2-plugin-docker/example/rfpipe-01/../antenna-patterns:/experiment/antenna-patterns:ro
    command: ["sleep", "infinity"]
    networks:
      default: {}
      ota1:
        ipv4_address: 10.100.0.4

  
  node-4-biz:
    image: biz-node
    container_name: letce2-node-4-biz
    depends_on:
      - node-4
    init: true
    cap_add:
      - NET_ADMIN
      - SYS_NICE
    volumes:
      - /home/jzn/dev/letce2-base/letce2-plugin-docker/example/rfpipe-01/host:/experiment/host:ro
      - /home/jzn/dev/letce2-base/letce2-plugin-docker/example/rfpipe-01/node-4:/experiment/node-4:ro
      - /home/jzn/dev/letce2-base/letce2-plugin-docker/example/rfpipe-01/persist/node-4:/experiment/persist/node-4:rw
    command: ["sleep", "infinity"]
    network_mode: "service:node-4"

  node-5:
    image: emane-bundle
    container_name: letce2-node-5
    hostname: node-5
    init: true
    cap_add:
      - NET_ADMIN
      - SYS_NICE
    volumes:
      - /home/jzn/dev/letce2-base/letce2-plugin-docker/example/rfpipe-01/host:/experiment/host:ro
      - /home/jzn/dev/letce2-base/letce2-plugin-docker/example/rfpipe-01/node-5:/experiment/node-5:ro
      - /home/jzn/dev/letce2-base/letce2-plugin-docker/example/rfpipe-01/persist/node-5:/experiment/persist/node-5:rw
      - /home/jzn/dev/letce2-base/letce2-plugin-docker/example/rfpipe-01/../antenna-patterns:/experiment/antenna-patterns:ro
    command: ["sleep", "infinity"]
    networks:
      default: {}
      ota1:
        ipv4_address: 10.100.0.5

  
  node-5-biz:
    image: biz-node
    container_name: letce2-node-5-biz
    depends_on:
      - node-5
    init: true
    cap_add:
      - NET_ADMIN
      - SYS_NICE
    volumes:
      - /home/jzn/dev/letce2-base/letce2-plugin-docker/example/rfpipe-01/host:/experiment/host:ro
      - /home/jzn/dev/letce2-base/letce2-plugin-docker/example/rfpipe-01/node-5:/experiment/node-5:ro
      - /home/jzn/dev/letce2-base/letce2-plugin-docker/example/rfpipe-01/persist/node-5:/experiment/persist/node-5:rw
    command: ["sleep", "infinity"]
    network_mode: "service:node-5"


networks:
  ota1:
    driver: bridge
    ipam:
      config:
        - subnet: 10.100.0.0/24
          gateway: 10.100.0.100
    driver_opts:
      com.docker.network.bridge.name: ota1
      com.docker.network.bridge.enable_ip_masquerade: "false"
